/* ====================== */
/* === Firefox Styles === */
/* ====================== */

/* =============== */
/* === Toolbar === */
/* =============== */

/* hide border */
#navigator-toolbox {
  border-bottom: none !important;
}

/* toolbar buttons margin */
.titlebar-buttonbox {
  margin: 12.5px 10px !important;
}

/* tabs toolbar */
#TabsToolbar {
  padding: 3px 3px 3px 0;
  border-bottom: none !important;
}

/* hide tab bar */
.toolbar-items > * {
  display: none;
}

/* browser sidebar */
#sidebar-box {
  width: 300px !important;
  padding: 1px 0 1px 4px;
  background: #282828 !important;
  z-index: 1000;

  transition: margin 0.15s ease-out;
}

/* hide sidebar header */
#sidebar-header {
  display: none;
}

/* sidebar closing animation */
#sidebar-box[hidden='true'] {
  display: flex !important;
  margin-left: -300px !important;
}

/* hide toolbar buttons when closed */
.titlebar-buttonbox-container {
  transition: visibility 0.05s;
}
#sidebar-box[hidden='true'] .titlebar-buttonbox-container {
  visibility: hidden;
}

/* hide url bar when closed */
#urlbar {
  transition: visibility 0.05s;
}
#sidebar-box[hidden='true'] #urlbar {
  visibility: hidden;
}

/* url bar */
#urlbar {
  --urlbar-height: 32px !important;
  --urlbar-toolbar-height: 42px !important;

  font-size: small !important;
  overflow: hidden;

  animation: fade-sidebar 0.2s ease-in-out;
}

/* expand completions */
#urlbar[breakout-extend] {
  width: 35vw !important;
  transform: translateX(-50%);

  top: 15% !important;
  left: calc(50% + 150px) !important;

  animation: fade-breakout 0.2s ease-in-out;
}

@keyframes fade-sidebar {
  from { opacity: 0; }
  to   { opacity: 100%; }
}

@keyframes fade-breakout {
  from { opacity: 0; }
  to   { opacity: 100%; }
}

/* urlbar container */
#urlbar-container {
  --urlbar-container-height: 40px !important;
  width: fit-content !important;
  margin-right: 0 !important;
}

/* focus outline */
#urlbar[focused]:not([breakout-extend]) #urlbar-background {
  outline: 1px solid #75747b !important;
}

/* hide page actions */
#page-action-buttons {
  display: none;
}

/* hide tracking protection badge */
#tracking-protection-icon-container {
  display: none;
}

/* hide identity badge */
#identity-box {
  display: none;
}

/* input padding */
#urlbar-input {
  padding: 0 5px !important;
}

/* darken url placeholder */
#urlbar-input::placeholder {
  opacity: 35% !important;
}

/* clean up nav bar */
#nav-bar-customization-target > :not(#urlbar-container, .unified-extensions-item),
#PanelUI-button,
.private-browsing-indicator-with-label > label {
  display: none;
}

/* private browsing icon margin */
.private-browsing-indicator-with-label {
  margin: 8px !important;
}

/* extensions button */
#TabsToolbar .toolbarbutton-icon {
  width: 30px !important;
  height: 30px !important;

  padding: 7px !important;
}

/* remove excess padding */
#TabsToolbar .toolbarbutton-badge-stack {
  padding: 0 !important;
}

/* background */
#tabbrowser-tabpanels {
  background: #1e1e1e !important;
}

/* content border */
#tabbrowser-tabpanels::after {
  content: '';
  position: absolute;

  box-sizing: border-box;
  pointer-events: none;

  width: calc(100% + 10px);
  height: calc(100% + 10px);

  top: -5px;
  left: -5px;

  border: 14px solid #282828;
  border-radius: 20px;
}

/* border shadow */
#tabbrowser-tabpanels::before {
  content: '';
  position: absolute;

  z-index: 99;
  pointer-events: none;

  width: calc(100% - 18px);
  height: calc(100% - 18px);

  top: 9px;
  left: 9px;

  border-radius: 6px;
  box-shadow: 0 0 10px 0.1px rgba(0, 0, 0, 0.5);
}

/* adjust for border */
.browserSidebarContainer {
  border: 9px solid transparent;
}

/* nav bar */
#nav-bar {
  box-shadow: none !important;
  margin: -5px 0 5px 0;
  border-top: none !important;
}

/* ======================= */
/* === Extensions Menu === */
/* ======================= */

/* extensions menu */
#unified-extensions-view .panel-header,
#unified-extensions-view .unified-extensions-item-contents,
#unified-extensions-view .unified-extensions-item-menu-button,
#unified-extensions-manage-extensions,
#unified-extensions-view toolbarseparator {
  display: none !important;
}

/* remove margin */
#unified-extensions-view .toolbarbutton-badge-stack,
#unified-extensions-view .unified-extensions-item-icon {
  margin: 0 !important;
}

/* remove margin */
#unified-extensions-view .unified-extensions-list {
  max-width: max-content;
}

/* fit icons width */
#unified-extensions-view {
  width: fit-content !important;
}

/* arrange icons as grid */
#unified-extensions-view #unified-extensions-area,
#unified-extensions-view .unified-extensions-list {
  padding: 4px !important;
  display: grid !important;
  grid-template-columns: repeat(3, auto);
}

/* inactive extensions border */
#unified-extensions-view #unified-extensions-area {
  border-bottom: 1px solid #75747a4d !important;
}

/* icon margin */
panelview .unified-extensions-item {
  margin: 2px !important;
}

/* icon size */
panelview .unified-extensions-item image {
  width: 16px !important;
  height: 16px !important;
}

/* icon padding */
panelview .unified-extensions-item > toolbarbutton {
  padding: 7px !important;
}
