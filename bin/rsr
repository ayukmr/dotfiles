#!/usr/bin/env zsh

# ======================
# === Run Rust Files ===
# ======================

if [[ -n $1 ]]; then
    if (( $+commands[rustc] )); then
        print -P "%B%F{red}rustc%f%b $1"
        echo '————————————————————\n'

        # compile and run file
        rustc $1 &&
        ./$(echo $1 | sed -E 's/.rs$//') ${@:2}
    else
        print -P '%B%F{red}error%f%b: rustc not found'
        return 1
    fi
else
    print -P '%B%F{red}error%f%b: no input file given'
    return 1
fi
