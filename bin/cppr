#!/usr/bin/env zsh

# =====================
# === Run C++ Files ===
# =====================

if [[ -n $1 ]]; then
    if (( $+commands[g++] )); then
        print -P "%B%F{magenta}g++%f%b $1"
        echo '————————————————————\n'

        local out_file=$(echo $1 | sed -E 's/.cpp$/.out/')

        # compile and run file
        g++ -o $out_file $1 &&
        ./$out_file ${@:2}
    else
        print -P '%B%F{red}error%f%b: g++ not found'
        return 1
    fi
else
    print -P '%B%F{red}error%f%b: no input file given'
    return 1
fi
